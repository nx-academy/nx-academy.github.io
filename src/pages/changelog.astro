---
import BaseLayout from "../layouts/BaseLayout.astro";

const pageTitle = "Changelog";
const pageDescription =
  "NX Academy est reguliÃ¨rement mis Ã  jour. J'utilise cette page pour vous tenir au courant des derniers fixes et fonctionnalitÃ©s.";

import { ALL_MONTHS } from "../data/changelog";
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <main class="main-wrapper">
    <h1>Changelog</h1>
    <div class="changelog-description">
      <p>
        Merci de prendre le temps de consulter ce changelog. Si le terme ne vous
        est pas familier, sachez quâ€™il sâ€™agit simplement <strong
          >dâ€™un journal de mise Ã  jour</strong
        >. Lâ€™idÃ©e ici est de vous tenir au courant des Ã©volutions de NX Academy
        : nouvelles fonctionnalitÃ©s, corrections, ajustements.
      </p>
      <p>Chaque item est reliÃ©e Ã  une pastille de couleur :</p>
      <ul class="indicators-list">
        <li>ðŸŸ¢ <strong>Vert</strong> pour les ajouts</li>
        <li>ðŸŸ¡ <strong>Jaune</strong> pour les mises Ã  jour en cours</li>
        <li>ðŸ”´ <strong>Rouge</strong> pour les corrections de bugs</li>
      </ul>

      <p>Bonne lecture ðŸ™‚ !</p>
    </div>
    {
      ALL_MONTHS.map((month) => (
        <section class="montly-section">
          <h2>{month.monthName}</h2>
          {month.dailyLogs.map((dailyLog) => (
            <section class="daily-section">
              <h3>{dailyLog.date}</h3>
              <ul class="logs-list">
                {dailyLog.tasks.map((task) => (
                  <li class={`${task.kind}`}>
                    <span set:html={task.content} />
                  </li>
                ))}
              </ul>
            </section>
          ))}
        </section>
      ))
    }
  </main>
</BaseLayout>

<style>
  .main-wrapper {
    width: 90%;
    margin-left: auto;
    margin-right: auto;
    max-width: 1100px;
    max-inline-size: 66ch;
  }

  .changelog-description {
    padding-top: 24px;
    margin-bottom: 32px;
    padding-bottom: 16px;
    border-bottom: 1px solid #333;
  }

  h1 {
    margin-top: 0;
  }

  h2 {
    margin-bottom: 24px;
  }

  h3 {
    margin-bottom: 8px;
  }

  p,
  li {
    margin-bottom: 24px;
    color: #bababa;
    font-size: clamp(0.875rem, 0.75rem + 1.5vw, 1.125rem);
  }

  a {
    color:;
  }

  .indicators-list {
    margin-bottom: 32px;
  }

  .indicators-list li {
    margin-bottom: 8px;
  }

  .montly-section {
    margin-bottom: 80px;
  }

  .daily-section {
    margin-bottom: 40px;
  }

  .logs-list {
    list-style-type: none;
  }

  .logs-list li {
    margin-bottom: 8px;

    a {
      text-decoration: none;
      color: #4effa0;
      font-weight: 500;
      transition: 0.4s color;

      &:hover {
        color: #4effa0aa;
      }
    }
  }

  .done::marker {
    content: "ðŸŸ¢ ";
  }

  .in-progress::marker {
    content: "ðŸŸ¡ ";
  }

  .fix::marker {
    content: "ðŸ”´ ";
  }
</style>
